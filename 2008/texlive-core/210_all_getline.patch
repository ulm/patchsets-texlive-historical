https://bugs.gentoo.org/show_bug.cgi?id=270430
by Constantin Baranov <const@mimas.ru>
From Fedora, upstream status unknown

Index: texlive-20080816-source/texk/afm2pl/afm2pl.c
===================================================================
--- texlive-20080816-source.orig/texk/afm2pl/afm2pl.c
+++ texlive-20080816-source/texk/afm2pl/afm2pl.c
@@ -345,7 +345,7 @@ P2C (register int, x, register int, y)
 
 /* read a line from infile into buffer and obuffer */
 int
-  getline
+  _getline
 P1H (void)
 {
   register char *p;
@@ -781,7 +781,7 @@ P1H (void)
     afmencoding->vec[i] = ".notdef";
   afmencoding->name = "Unspecified";
 
-  while (getline ()) {
+  while (_getline ()) {
     switch (interest (paramstring ())) {
     case FontName:
       fontname = paramnewstring ();
@@ -963,7 +963,7 @@ gettoken ()
 
   while (1) {
     while (param == 0 || *param == 0) {
-      if (getline () == 0)
+      if (_getline () == 0)
         error ("! premature end in encoding file");
     }
     if (param[0] == '%') {
@@ -1540,7 +1540,7 @@ extraligkerninfo ()
     encfilename =
       openin (encfilename, kpse_enc_format, ".enc");
     for (lig_it = 0; lig_it < 2; lig_it++) {
-      while (getline ()) {
+      while (_getline ()) {
         /* search for (ligkern) comment in line */
         for (p = buffer; *p; p++)
           if (*p == '%') {
@@ -1576,7 +1576,7 @@ extraligkerninfo ()
     for (i = 0; i < ligfilenames->n; i++) {
       ligfilename = openin (ligfilenames->names[i],
                             kpse_lig_format, ".lig");
-      while (getline ())
+      while (_getline ())
         checkligkern (buffer, 0);       /* 2nd param 0: lig file */
       fclose (infile);
     }
@@ -1607,7 +1607,7 @@ extraligkerninfo ()
   for (i = 0; i < Ligfilenames->n; i++) {
     ligfilename = openin (Ligfilenames->names[i],
                           kpse_lig_format, ".lig");
-    while (getline ())
+    while (_getline ())
       checkligkern (buffer, 0);       /* 2nd param 0: lig file */
     fclose (infile);
   }
Index: texlive-20080816-source/texk/dvipsk/afm2tfm.c
===================================================================
--- texlive-20080816-source.orig/texk/dvipsk/afm2tfm.c
+++ texlive-20080816-source/texk/dvipsk/afm2tfm.c
@@ -260,7 +260,7 @@ transform P2C(register int, x, register 
 }
 
 int
-getline P1H(void) {
+_getline P1H(void) {
    register char *p ;
    register int c ;
 
@@ -615,7 +615,7 @@ readadobe P1H(void) {
    ai = newchar() ;
    ai->adobenum = -1 ;
    ai->adobename = "||" ; /* boundary character name */
-   while (getline()) {
+   while (_getline()) {
       switch(interest(paramstring())) {
 case FontName:
          fontname = paramnewstring() ;
@@ -1891,7 +1891,7 @@ char *gettoken() {
 
    while (1) {
       while (param == 0 || *param == 0) {
-         if (getline() == 0)
+         if (_getline() == 0)
             error("! premature end in encoding file") ;
          for (p=buffer; *p; p++)
             if (*p == '%') {
@@ -1982,7 +1982,7 @@ struct encoding *readencoding P1C(char *
       p = gettoken() ;
       if (strcmp(p, "]"))
          error("! token 258 in encoding must be make-array (])") ;
-      while (getline()) {
+      while (_getline()) {
          for (p=buffer; *p; p++)
             if (*p == '%') {
                if (ignoreligkern == 0)
Index: texlive-20080816-source/texk/web2c/cpascal.h
===================================================================
--- texlive-20080816-source.orig/texk/web2c/cpascal.h
+++ texlive-20080816-source/texk/web2c/cpascal.h
@@ -14,6 +14,7 @@
 
 /* We must include this first, to resolve many C issues.  */
 #include "config.h"
+#define getline _getline
 
 /* We only use getopt in the applications, not in web2c itself.  */
 #include <kpathsea/getopt.h>
Index: texlive-20080816-source/texk/web2c/mpware/mpto.c
===================================================================
--- texlive-20080816-source.orig/texk/web2c/mpware/mpto.c
+++ texlive-20080816-source/texk/web2c/mpware/mpto.c
@@ -97,7 +97,7 @@ usage(char *progn)
 }
 
 char *
-getline(void)
+_getline(void)
 {				/* returns NULL on EOF or error, otherwise buf */
     int c;
     unsigned loc = 0;
@@ -302,7 +302,7 @@ copytex(void)
     char *res = NULL;
     do {
 	if (*aa == 0)
-	  if ((aa = getline()) == NULL)
+	  if ((aa = _getline()) == NULL)
 	    err("btex section does not end");
 
 	if (getbta(aa) && *tt == 'e') {
@@ -483,7 +483,7 @@ Current maintainer: Taco Hoekwater.\n");
 	postverb = troff_postverb;
     }
     printf("%s", predoc);
-    while (getline() != NULL)
+    while (_getline() != NULL)
 	do_line();
     printf("%s", postdoc);
     exit(0);
